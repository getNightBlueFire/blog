<!doctype html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>JPA :: Spring Framework</title>
  <link rel="prev" href="hibernate.html">
  <link rel="next" href="../oxm.html"> 
  <link rel="stylesheet" href="../../_/css/site.css">       
 </head>
 <body class="article"> 
  <div class="body">
   <div class="nav-container" data-component="framework" data-version="6.2.8">
    <aside class="nav">
     <div class="panels">
      <div class="nav-panel-menu is-active" data-panel="menu">
       <nav class="nav-menu">
        <div class="context">
         <span class="title">Spring Framework</span> <span class="version">6.2.8</span>  
        </div>
        <ul class="nav-list">
         <li class="nav-item" data-depth="0">
          <ul class="nav-list">
           <li class="nav-item" data-depth="1"><a class="nav-link" href="../../overview.html">Overview</a></li>
           <li class="nav-item" data-depth="1">
            <button class="nav-item-toggle"></button>
            <a class="nav-link" href="../../core.html">Core Technologies</a>
            <ul class="nav-list">
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../../core/beans.html">The IoC Container</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/beans/introduction.html">Introduction to the Spring IoC Container and Beans</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/beans/basics.html">Container Overview</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/beans/definition.html">Bean Overview</a></li>
               <li class="nav-item" data-depth="3">
                <button class="nav-item-toggle"></button>
                <a class="nav-link" href="../../core/beans/dependencies.html">Dependencies</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/dependencies/factory-collaborators.html">Dependency Injection</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/dependencies/factory-properties-detailed.html">Dependencies and Configuration in Detail</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/dependencies/factory-dependson.html">Using <code>depends-on</code></a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/dependencies/factory-lazy-init.html">Lazy-initialized Beans</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/dependencies/factory-autowire.html">Autowiring Collaborators</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/dependencies/factory-method-injection.html">Method Injection</a></li>
                </ul>
               </li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/beans/factory-scopes.html">Bean Scopes</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/beans/factory-nature.html">Customizing the Nature of a Bean</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/beans/child-bean-definitions.html">Bean Definition Inheritance</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/beans/factory-extension.html">Container Extension Points</a></li>
               <li class="nav-item" data-depth="3">
                <button class="nav-item-toggle"></button>
                <a class="nav-link" href="../../core/beans/annotation-config.html">Annotation-based Container Configuration</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/annotation-config/autowired.html">Using <code>@Autowired</code></a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/annotation-config/autowired-primary.html">Fine-tuning Annotation-based Autowiring with <code>@Primary</code> or <code>@Fallback</code></a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/annotation-config/autowired-qualifiers.html">Fine-tuning Annotation-based Autowiring with Qualifiers</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/annotation-config/generics-as-qualifiers.html">Using Generics as Autowiring Qualifiers</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/annotation-config/custom-autowire-configurer.html">Using <code>CustomAutowireConfigurer</code></a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/annotation-config/resource.html">Injection with <code>@Resource</code></a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/annotation-config/value-annotations.html">Using <code>@Value</code></a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/annotation-config/postconstruct-and-predestroy-annotations.html">Using <code>@PostConstruct</code> and <code>@PreDestroy</code></a></li>
                </ul>
               </li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/beans/classpath-scanning.html">Classpath Scanning and Managed Components</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/beans/standard-annotations.html">Using JSR 330 Standard Annotations</a></li>
               <li class="nav-item" data-depth="3">
                <button class="nav-item-toggle"></button>
                <a class="nav-link" href="../../core/beans/java.html">Java-based Container Configuration</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/java/basic-concepts.html">Basic Concepts: <code>@Bean</code> and <code>@Configuration</code></a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/java/instantiating-container.html">Instantiating the Spring Container by Using <code>AnnotationConfigApplicationContext</code></a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/java/bean-annotation.html">Using the <code>@Bean</code> Annotation</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/java/configuration-annotation.html">Using the <code>@Configuration</code> annotation</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/beans/java/composing-configuration-classes.html">Composing Java-based Configurations</a></li>
                </ul>
               </li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/beans/environment.html">Environment Abstraction</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/beans/context-load-time-weaver.html">Registering a <code>LoadTimeWeaver</code></a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/beans/context-introduction.html">Additional Capabilities of the <code>ApplicationContext</code></a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/beans/beanfactory.html">The <code>BeanFactory</code> API</a></li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../core/resources.html">Resources</a></li>
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../../core/validation.html">Validation, Data Binding, and Type Conversion</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/validation/validator.html">Validation by Using Spring’s Validator Interface</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/validation/beans-beans.html">Data Binding</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/validation/conversion.html">Resolving Codes to Error Messages</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/validation/convert.html">Spring Type Conversion</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/validation/format.html">Spring Field Formatting</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/validation/format-configuring-formatting-globaldatetimeformat.html">Configuring a Global Date and Time Format</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/validation/beanvalidation.html">Java Bean Validation</a></li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../../core/expressions.html">Spring Expression Language (SpEL)</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/expressions/evaluation.html">Evaluation</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/expressions/beandef.html">Expressions in Bean Definitions</a></li>
               <li class="nav-item" data-depth="3">
                <button class="nav-item-toggle"></button>
                <a class="nav-link" href="../../core/expressions/language-ref.html">Language Reference</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/literal.html">Literal Expressions</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/properties-arrays.html">Properties, Arrays, Lists, Maps, and Indexers</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/inline-lists.html">Inline Lists</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/inline-maps.html">Inline Maps</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/array-construction.html">Array Construction</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/methods.html">Methods</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/operators.html">Operators</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/types.html">Types</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/constructors.html">Constructors</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/variables.html">Variables</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/functions.html">Functions</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/varargs.html">Varargs Invocations</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/bean-references.html">Bean References</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/operator-ternary.html">Ternary Operator (If-Then-Else)</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/operator-elvis.html">The Elvis Operator</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/operator-safe-navigation.html">Safe Navigation Operator</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/collection-selection.html">Collection Selection</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/collection-projection.html">Collection Projection</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/expressions/language-ref/templating.html">Expression Templating</a></li>
                </ul>
               </li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/expressions/example-classes.html">Classes Used in the Examples</a></li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../../core/aop.html">Aspect Oriented Programming with Spring</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop/introduction-defn.html">AOP Concepts</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop/introduction-spring-defn.html">Spring AOP Capabilities and Goals</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop/introduction-proxies.html">AOP Proxies</a></li>
               <li class="nav-item" data-depth="3">
                <button class="nav-item-toggle"></button>
                <a class="nav-link" href="../../core/aop/ataspectj.html">@AspectJ support</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/aop/ataspectj/aspectj-support.html">Enabling @AspectJ Support</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/aop/ataspectj/at-aspectj.html">Declaring an Aspect</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/aop/ataspectj/pointcuts.html">Declaring a Pointcut</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/aop/ataspectj/advice.html">Declaring Advice</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/aop/ataspectj/introductions.html">Introductions</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/aop/ataspectj/instantiation-models.html">Aspect Instantiation Models</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../core/aop/ataspectj/example.html">An AOP Example</a></li>
                </ul>
               </li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop/schema.html">Schema-based AOP Support</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop/choosing.html">Choosing which AOP Declaration Style to Use</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop/mixing-styles.html">Mixing Aspect Types</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop/proxying.html">Proxying Mechanisms</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop/aspectj-programmatic.html">Programmatic Creation of @AspectJ Proxies</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop/using-aspectj.html">Using AspectJ with Spring Applications</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop/resources.html">Further Resources</a></li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../../core/aop-api.html">Spring AOP APIs</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop-api/pointcuts.html">Pointcut API in Spring</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop-api/advice.html">Advice API in Spring</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop-api/advisor.html">The Advisor API in Spring</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop-api/pfb.html">Using the <code>ProxyFactoryBean</code> to Create AOP Proxies</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop-api/concise-proxy.html">Concise Proxy Definitions</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop-api/prog.html">Creating AOP Proxies Programmatically with the <code>ProxyFactory</code></a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop-api/advised.html">Manipulating Advised Objects</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop-api/autoproxy.html">Using the "auto-proxy" facility</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop-api/targetsource.html">Using <code>TargetSource</code> Implementations</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/aop-api/extensibility.html">Defining New Advice Types</a></li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../core/null-safety.html">Null-safety</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../core/databuffer-codec.html">Data Buffers and Codecs</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../core/spring-jcl.html">Logging</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../core/aot.html">Ahead of Time Optimizations</a></li>
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../../core/appendix.html">Appendix</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/appendix/xsd-schemas.html">XML Schemas</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/appendix/xml-custom.html">XML Schema Authoring</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../core/appendix/application-startup-steps.html">Application Startup Steps</a></li>
              </ul>
             </li>
            </ul>
           </li>
           <li class="nav-item" data-depth="1">
            <button class="nav-item-toggle"></button>
            <a class="nav-link" href="../../data-access.html">Data Access</a>
            <ul class="nav-list">
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../transaction.html">Transaction Management</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../transaction/motivation.html">Advantages of the Spring Framework’s Transaction Support Model</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../transaction/strategies.html">Understanding the Spring Framework Transaction Abstraction</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../transaction/tx-resource-synchronization.html">Synchronizing Resources with Transactions</a></li>
               <li class="nav-item" data-depth="3">
                <button class="nav-item-toggle"></button>
                <a class="nav-link" href="../transaction/declarative.html">Declarative Transaction Management</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../transaction/declarative/tx-decl-explained.html">Understanding the Spring Framework’s Declarative Transaction Implementation</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../transaction/declarative/first-example.html">Example of Declarative Transaction Implementation</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../transaction/declarative/rolling-back.html">Rolling Back a Declarative Transaction</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../transaction/declarative/diff-tx.html">Configuring Different Transactional Semantics for Different Beans</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../transaction/declarative/txadvice-settings.html">&lt;tx:advice/&gt; Settings</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../transaction/declarative/annotations.html">Using <code>@Transactional</code></a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../transaction/declarative/tx-propagation.html">Transaction Propagation</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../transaction/declarative/applying-more-than-just-tx-advice.html">Advising Transactional Operations</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../transaction/declarative/aspectj.html">Using <code>@Transactional</code> with AspectJ</a></li>
                </ul>
               </li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../transaction/programmatic.html">Programmatic Transaction Management</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../transaction/tx-decl-vs-prog.html">Choosing Between Programmatic and Declarative Transaction Management</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../transaction/event.html">Transaction-bound Events</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../transaction/application-server-integration.html">Application server-specific integration</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../transaction/solutions-to-common-problems.html">Solutions to Common Problems</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../transaction/resources.html">Further Resources</a></li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../dao.html">DAO Support</a></li>
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../jdbc.html">Data Access with JDBC</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../jdbc/choose-style.html">Choosing an Approach for JDBC Database Access</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../jdbc/packages.html">Package Hierarchy</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../jdbc/core.html">Using the JDBC Core Classes to Control Basic JDBC Processing and Error Handling</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../jdbc/connections.html">Controlling Database Connections</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../jdbc/advanced.html">JDBC Batch Operations</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../jdbc/simple.html">Simplifying JDBC Operations with the <code>SimpleJdbc</code> Classes</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../jdbc/object.html">Modeling JDBC Operations as Java Objects</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../jdbc/parameter-handling.html">Common Problems with Parameter and Data Value Handling</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../jdbc/embedded-database-support.html">Embedded Database Support</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../jdbc/initializing-datasource.html">Initializing a <code>DataSource</code></a></li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../r2dbc.html">Data Access with R2DBC</a></li>
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../orm.html">Object Relational Mapping (ORM) Data Access</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="introduction.html">Introduction to ORM with Spring</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="general.html">General ORM Integration Considerations</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="hibernate.html">Hibernate</a></li>
               <li class="nav-item is-current-page" data-depth="3"><a class="nav-link" href="jpa.html">JPA</a></li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../oxm.html">Marshalling XML by Using Object-XML Mappers</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../appendix.html">Appendix</a></li>
            </ul>
           </li>
           <li class="nav-item" data-depth="1">
            <button class="nav-item-toggle"></button>
            <a class="nav-link" href="../../web.html">Web on Servlet Stack</a>
            <ul class="nav-list">
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../../web/webmvc.html">Spring Web MVC</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3">
                <button class="nav-item-toggle"></button>
                <a class="nav-link" href="../../web/webmvc/mvc-servlet.html">DispatcherServlet</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-servlet/context-hierarchy.html">Context Hierarchy</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-servlet/special-bean-types.html">Special Bean Types</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-servlet/config.html">Web MVC Config</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-servlet/container-config.html">Servlet Config</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-servlet/sequence.html">Processing</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-servlet/handlermapping-path.html">Path Matching</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-servlet/handlermapping-interceptor.html">Interception</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-servlet/exceptionhandlers.html">Exceptions</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-servlet/viewresolver.html">View Resolution</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-servlet/localeresolver.html">Locale</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-servlet/themeresolver.html">Themes</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-servlet/multipart.html">Multipart Resolver</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-servlet/logging.html">Logging</a></li>
                </ul>
               </li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webmvc/filters.html">Filters</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webmvc/message-converters.html">HTTP Message Conversion</a></li>
               <li class="nav-item" data-depth="3">
                <button class="nav-item-toggle"></button>
                <a class="nav-link" href="../../web/webmvc/mvc-controller.html">Annotated Controllers</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann.html">Declaration</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-requestmapping.html">Mapping Requests</a></li>
                 <li class="nav-item" data-depth="4">
                  <button class="nav-item-toggle"></button>
                  <a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods.html">Handler Methods</a>
                  <ul class="nav-list">
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/arguments.html">Method Arguments</a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/return-types.html">Return Values</a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/typeconversion.html">Type Conversion</a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/matrix-variables.html">Matrix Variables</a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/requestparam.html"><code>@RequestParam</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/requestheader.html"><code>@RequestHeader</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/cookievalue.html"><code>@CookieValue</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/modelattrib-method-args.html"><code>@ModelAttribute</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/sessionattributes.html"><code>@SessionAttributes</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/sessionattribute.html"><code>@SessionAttribute</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/requestattrib.html"><code>@RequestAttribute</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/redirecting-passing-data.html">Redirect Attributes</a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/flash-attributes.html">Flash Attributes</a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/multipart-forms.html">Multipart</a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/requestbody.html"><code>@RequestBody</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/httpentity.html">HttpEntity</a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/responsebody.html"><code>@ResponseBody</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/responseentity.html">ResponseEntity</a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-methods/jackson.html">Jackson JSON</a></li>
                  </ul>
                 </li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-modelattrib-methods.html">Model</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-initbinder.html"><code>@InitBinder</code></a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-validation.html">Validation</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-exceptionhandler.html">Exceptions</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-controller/ann-advice.html">Controller Advice</a></li>
                </ul>
               </li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webmvc-functional.html">Functional Endpoints</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webmvc/mvc-uri-building.html">URI Links</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webmvc/mvc-ann-async.html">Asynchronous Requests</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webmvc-cors.html">CORS</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webmvc/mvc-ann-rest-exceptions.html">Error Responses</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webmvc/mvc-security.html">Web Security</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webmvc/mvc-caching.html">HTTP Caching</a></li>
               <li class="nav-item" data-depth="3">
                <button class="nav-item-toggle"></button>
                <a class="nav-link" href="../../web/webmvc-view.html">View Technologies</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc-view/mvc-thymeleaf.html">Thymeleaf</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc-view/mvc-freemarker.html">FreeMarker</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc-view/mvc-groovymarkup.html">Groovy Markup</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc-view/mvc-script.html">Script Views</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc-view/mvc-fragments.html">HTML Fragments</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc-view/mvc-jsp.html">JSP and JSTL</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc-view/mvc-feeds.html">RSS and Atom</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc-view/mvc-document.html">PDF and Excel</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc-view/mvc-jackson.html">Jackson</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc-view/mvc-xml-marshalling.html">XML Marshalling</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc-view/mvc-xslt.html">XSLT Views</a></li>
                </ul>
               </li>
               <li class="nav-item" data-depth="3">
                <button class="nav-item-toggle"></button>
                <a class="nav-link" href="../../web/webmvc/mvc-config.html">MVC Config</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-config/enable.html">Enable MVC Configuration</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-config/customize.html">MVC Config API</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-config/conversion.html">Type Conversion</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-config/validation.html">Validation</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-config/interceptors.html">Interceptors</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-config/content-negotiation.html">Content Types</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-config/message-converters.html">Message Converters</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-config/view-controller.html">View Controllers</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-config/view-resolvers.html">View Resolvers</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-config/static-resources.html">Static Resources</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-config/default-servlet-handler.html">Default Servlet</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-config/path-matching.html">Path Matching</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-config/advanced-java.html">Advanced Java Config</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webmvc/mvc-config/advanced-xml.html">Advanced XML Config</a></li>
                </ul>
               </li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webmvc/mvc-http2.html">HTTP/2</a></li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../web/webmvc-client.html">REST Clients</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../web/webmvc-test.html">Testing</a></li>
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../../web/websocket.html">WebSockets</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/websocket/server.html">WebSocket API</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/websocket/fallback.html">SockJS Fallback</a></li>
               <li class="nav-item" data-depth="3">
                <button class="nav-item-toggle"></button>
                <a class="nav-link" href="../../web/websocket/stomp.html">STOMP</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/overview.html">Overview</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/benefits.html">Benefits</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/enable.html">Enable STOMP</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/server-config.html">WebSocket Transport</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/message-flow.html">Flow of Messages</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/handle-annotations.html">Annotated Controllers</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/handle-send.html">Sending Messages</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/handle-simple-broker.html">Simple Broker</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/handle-broker-relay.html">External Broker</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/handle-broker-relay-configure.html">Connecting to a Broker</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/destination-separator.html">Dots as Separators</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/authentication.html">Authentication</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/authentication-token-based.html">Token Authentication</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/authorization.html">Authorization</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/user-destination.html">User Destinations</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/ordered-messages.html">Order of Messages</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/application-context-events.html">Events</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/interceptors.html">Interception</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/client.html">STOMP Client</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/scope.html">WebSocket Scope</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/configuration-performance.html">Performance</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/stats.html">Monitoring</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/websocket/stomp/testing.html">Testing</a></li>
                </ul>
               </li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../web/integration.html">Other Web Frameworks</a></li>
            </ul>
           </li>
           <li class="nav-item" data-depth="1">
            <button class="nav-item-toggle"></button>
            <a class="nav-link" href="../../web-reactive.html">Web on Reactive Stack</a>
            <ul class="nav-list">
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../../web/webflux.html">Spring WebFlux</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux/new-framework.html">Overview</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux/reactive-spring.html">Reactive Core</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux/dispatcher-handler.html"><code>DispatcherHandler</code></a></li>
               <li class="nav-item" data-depth="3">
                <button class="nav-item-toggle"></button>
                <a class="nav-link" href="../../web/webflux/controller.html">Annotated Controllers</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webflux/controller/ann.html"><code>@Controller</code></a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webflux/controller/ann-requestmapping.html">Mapping Requests</a></li>
                 <li class="nav-item" data-depth="4">
                  <button class="nav-item-toggle"></button>
                  <a class="nav-link" href="../../web/webflux/controller/ann-methods.html">Handler Methods</a>
                  <ul class="nav-list">
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webflux/controller/ann-methods/arguments.html">Method Arguments</a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webflux/controller/ann-methods/return-types.html">Return Values</a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webflux/controller/ann-methods/typeconversion.html">Type Conversion</a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webflux/controller/ann-methods/matrix-variables.html">Matrix Variables</a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webflux/controller/ann-methods/requestparam.html"><code>@RequestParam</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webflux/controller/ann-methods/requestheader.html"><code>@RequestHeader</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webflux/controller/ann-methods/cookievalue.html"><code>@CookieValue</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webflux/controller/ann-methods/modelattrib-method-args.html"><code>@ModelAttribute</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webflux/controller/ann-methods/sessionattributes.html"><code>@SessionAttributes</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webflux/controller/ann-methods/sessionattribute.html"><code>@SessionAttribute</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webflux/controller/ann-methods/requestattrib.html"><code>@RequestAttribute</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webflux/controller/ann-methods/multipart-forms.html">Multipart Content</a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webflux/controller/ann-methods/requestbody.html"><code>@RequestBody</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webflux/controller/ann-methods/httpentity.html"><code>HttpEntity</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webflux/controller/ann-methods/responsebody.html"><code>@ResponseBody</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webflux/controller/ann-methods/responseentity.html"><code>ResponseEntity</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../web/webflux/controller/ann-methods/jackson.html">Jackson JSON</a></li>
                  </ul>
                 </li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webflux/controller/ann-modelattrib-methods.html"><code>Model</code></a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webflux/controller/ann-initbinder.html"><code>DataBinder</code></a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webflux/controller/ann-validation.html">Validation</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webflux/controller/ann-exceptions.html">Exceptions</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../web/webflux/controller/ann-advice.html">Controller Advice</a></li>
                </ul>
               </li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux-functional.html">Functional Endpoints</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux/uri-building.html">URI Links</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux-cors.html">CORS</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux/ann-rest-exceptions.html">Error Responses</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux/security.html">Web Security</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux/caching.html">HTTP Caching</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux-view.html">View Technologies</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux/config.html">WebFlux Config</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux/http2.html">HTTP/2</a></li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../../web/webflux-webclient.html">WebClient</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux-webclient/client-builder.html">Configuration</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux-webclient/client-retrieve.html"><code>retrieve()</code></a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux-webclient/client-exchange.html">Exchange</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux-webclient/client-body.html">Request Body</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux-webclient/client-filter.html">Filters</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux-webclient/client-attributes.html">Attributes</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux-webclient/client-context.html">Context</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux-webclient/client-synchronous.html">Synchronous Use</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../web/webflux-webclient/client-testing.html">Testing</a></li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../web/webflux-http-interface-client.html">HTTP Interface Client</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../web/webflux-websocket.html">WebSockets</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../web/webflux-test.html">Testing</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../rsocket.html">RSocket</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../web/webflux-reactive-libraries.html">Reactive Libraries</a></li>
            </ul>
           </li>
           <li class="nav-item" data-depth="1">
            <button class="nav-item-toggle"></button>
            <a class="nav-link" href="../../testing.html">Testing</a>
            <ul class="nav-list">
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../testing/introduction.html">Introduction to Spring Testing</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../testing/unit.html">Unit Testing</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../testing/integration.html">Integration Testing</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../testing/support-jdbc.html">JDBC Testing Support</a></li>
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../../testing/testcontext-framework.html">Spring TestContext Framework</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/testcontext-framework/key-abstractions.html">Key Abstractions</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/testcontext-framework/bootstrapping.html">Bootstrapping the TestContext Framework</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/testcontext-framework/tel-config.html"><code>TestExecutionListener</code> Configuration</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/testcontext-framework/application-events.html">Application Events</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/testcontext-framework/test-execution-events.html">Test Execution Events</a></li>
               <li class="nav-item" data-depth="3">
                <button class="nav-item-toggle"></button>
                <a class="nav-link" href="../../testing/testcontext-framework/ctx-management.html">Context Management</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/testcontext-framework/ctx-management/xml.html">Context Configuration with XML resources</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/testcontext-framework/ctx-management/groovy.html">Context Configuration with Groovy Scripts</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/testcontext-framework/ctx-management/javaconfig.html">Context Configuration with Component Classes</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/testcontext-framework/ctx-management/mixed-config.html">Mixing XML, Groovy Scripts, and Component Classes</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/testcontext-framework/ctx-management/context-customizers.html">Context Configuration with Context Customizers</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/testcontext-framework/ctx-management/initializers.html">Context Configuration with Context Initializers</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/testcontext-framework/ctx-management/inheritance.html">Context Configuration Inheritance</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/testcontext-framework/ctx-management/env-profiles.html">Context Configuration with Environment Profiles</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/testcontext-framework/ctx-management/property-sources.html">Context Configuration with Test Property Sources</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/testcontext-framework/ctx-management/dynamic-property-sources.html">Context Configuration with Dynamic Property Sources</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/testcontext-framework/ctx-management/web.html">Loading a <code>WebApplicationContext</code></a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/testcontext-framework/ctx-management/web-mocks.html">Working with Web Mocks</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/testcontext-framework/ctx-management/caching.html">Context Caching</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/testcontext-framework/ctx-management/failure-threshold.html">Context Failure Threshold</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/testcontext-framework/ctx-management/hierarchies.html">Context Hierarchies</a></li>
                </ul>
               </li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/testcontext-framework/fixture-di.html">Dependency Injection of Test Fixtures</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/testcontext-framework/bean-overriding.html">Bean Overriding in Tests</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/testcontext-framework/web-scoped-beans.html">Testing Request- and Session-scoped Beans</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/testcontext-framework/tx.html">Transaction Management</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/testcontext-framework/executing-sql.html">Executing SQL Scripts</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/testcontext-framework/parallel-test-execution.html">Parallel Test Execution</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/testcontext-framework/support-classes.html">TestContext Framework Support Classes</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/testcontext-framework/aot.html">Ahead of Time Support for Tests</a></li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../testing/webtestclient.html">WebTestClient</a></li>
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../../testing/mockmvc.html">MockMvc</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/mockmvc/overview.html">Overview</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/mockmvc/setup-options.html">Setup Options</a></li>
               <li class="nav-item" data-depth="3">
                <button class="nav-item-toggle"></button>
                <a class="nav-link" href="../../testing/mockmvc/hamcrest.html">Hamcrest Integration</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/mockmvc/hamcrest/static-imports.html">Static Imports</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/mockmvc/hamcrest/setup.html">Configuring MockMvc</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/mockmvc/hamcrest/setup-steps.html">Setup Features</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/mockmvc/hamcrest/requests.html">Performing Requests</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/mockmvc/hamcrest/expectations.html">Defining Expectations</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/mockmvc/hamcrest/async-requests.html">Async Requests</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/mockmvc/hamcrest/vs-streaming-response.html">Streaming Responses</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/mockmvc/hamcrest/filters.html">Filter Registrations</a></li>
                </ul>
               </li>
               <li class="nav-item" data-depth="3">
                <button class="nav-item-toggle"></button>
                <a class="nav-link" href="../../testing/mockmvc/assertj.html">AssertJ Integration</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/mockmvc/assertj/setup.html">Configuring MockMvcTester</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/mockmvc/assertj/requests.html">Performing Requests</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/mockmvc/assertj/assertions.html">Defining Expectations</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/mockmvc/assertj/integration.html">MockMvc integration</a></li>
                </ul>
               </li>
               <li class="nav-item" data-depth="3">
                <button class="nav-item-toggle"></button>
                <a class="nav-link" href="../../testing/mockmvc/htmlunit.html">HtmlUnit Integration</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/mockmvc/htmlunit/why.html">Why HtmlUnit Integration?</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/mockmvc/htmlunit/mah.html">MockMvc and HtmlUnit</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/mockmvc/htmlunit/webdriver.html">MockMvc and WebDriver</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/mockmvc/htmlunit/geb.html">MockMvc and Geb</a></li>
                </ul>
               </li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/mockmvc/vs-end-to-end-integration-tests.html">MockMvc vs End-to-End Tests</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/mockmvc/resources.html">Further Examples</a></li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../testing/spring-mvc-test-client.html">Testing Client Applications</a></li>
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../../testing/appendix.html">Appendix</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3">
                <button class="nav-item-toggle"></button>
                <a class="nav-link" href="../../testing/annotations.html">Annotations</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/annotations/integration-standard.html">Standard Annotation Support</a></li>
                 <li class="nav-item" data-depth="4">
                  <button class="nav-item-toggle"></button>
                  <a class="nav-link" href="../../testing/annotations/integration-spring.html">Spring Testing Annotations</a>
                  <ul class="nav-list">
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-bootstrapwith.html"><code>@BootstrapWith</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-contextconfiguration.html"><code>@ContextConfiguration</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-webappconfiguration.html"><code>@WebAppConfiguration</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-contexthierarchy.html"><code>@ContextHierarchy</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-contextcustomizerfactories.html"><code>@ContextCustomizerFactories</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-activeprofiles.html"><code>@ActiveProfiles</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-testpropertysource.html"><code>@TestPropertySource</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-dynamicpropertysource.html"><code>@DynamicPropertySource</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-testbean.html"><code>@TestBean</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-mockitobean.html"><code>@MockitoBean</code> and <code>@MockitoSpyBean</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-dirtiescontext.html"><code>@DirtiesContext</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-testexecutionlisteners.html"><code>@TestExecutionListeners</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-recordapplicationevents.html"><code>@RecordApplicationEvents</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-commit.html"><code>@Commit</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-rollback.html"><code>@Rollback</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-beforetransaction.html"><code>@BeforeTransaction</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-aftertransaction.html"><code>@AfterTransaction</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-sql.html"><code>@Sql</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-sqlconfig.html"><code>@SqlConfig</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-sqlmergemode.html"><code>@SqlMergeMode</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-sqlgroup.html"><code>@SqlGroup</code></a></li>
                   <li class="nav-item" data-depth="5"><a class="nav-link" href="../../testing/annotations/integration-spring/annotation-disabledinaotmode.html"><code>@DisabledInAotMode</code></a></li>
                  </ul>
                 </li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/annotations/integration-junit4.html">Spring JUnit 4 Testing Annotations</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/annotations/integration-junit-jupiter.html">Spring JUnit Jupiter Testing Annotations</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="../../testing/annotations/integration-meta.html">Meta-Annotation Support for Testing</a></li>
                </ul>
               </li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../testing/resources.html">Further Resources</a></li>
              </ul>
             </li>
            </ul>
           </li>
           <li class="nav-item" data-depth="1">
            <button class="nav-item-toggle"></button>
            <a class="nav-link" href="../../integration.html">Integration</a>
            <ul class="nav-list">
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../integration/rest-clients.html">REST Clients</a></li>
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../../integration/jms.html">JMS (Java Message Service)</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/jms/using.html">Using Spring JMS</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/jms/sending.html">Sending a Message</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/jms/receiving.html">Receiving a Message</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/jms/jca-message-endpoint-manager.html">Support for JCA Message Endpoints</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/jms/annotated.html">Annotation-driven Listener Endpoints</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/jms/namespace.html">JMS Namespace Support</a></li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../../integration/jmx.html">JMX</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/jmx/exporting.html">Exporting Your Beans to JMX</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/jmx/interface.html">Controlling the Management Interface of Your Beans</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/jmx/naming.html">Controlling <code>ObjectName</code> Instances for Your Beans</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/jmx/jsr160.html">Using JSR-160 Connectors</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/jmx/proxy.html">Accessing MBeans through Proxies</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/jmx/notifications.html">Notifications</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/jmx/resources.html">Further Resources</a></li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../integration/email.html">Email</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../integration/scheduling.html">Task Execution and Scheduling</a></li>
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../../integration/cache.html">Cache Abstraction</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/cache/strategies.html">Understanding the Cache Abstraction</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/cache/annotations.html">Declarative Annotation-based Caching</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/cache/jsr-107.html">JCache (JSR-107) Annotations</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/cache/declarative-xml.html">Declarative XML-based Caching</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/cache/store-configuration.html">Configuring the Cache Storage</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/cache/plug.html">Plugging-in Different Back-end Caches</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../integration/cache/specific-config.html">How can I Set the TTL/TTI/Eviction policy/XXX feature?</a></li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../integration/observability.html">Observability Support</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../integration/checkpoint-restore.html">JVM Checkpoint Restore</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../integration/cds.html">CDS</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../integration/appendix.html">Appendix</a></li>
            </ul>
           </li>
           <li class="nav-item" data-depth="1">
            <button class="nav-item-toggle"></button>
            <a class="nav-link" href="../../languages.html">Language Support</a>
            <ul class="nav-list">
             <li class="nav-item" data-depth="2">
              <button class="nav-item-toggle"></button>
              <a class="nav-link" href="../../languages/kotlin.html">Kotlin</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../languages/kotlin/requirements.html">Requirements</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../languages/kotlin/extensions.html">Extensions</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../languages/kotlin/null-safety.html">Null-safety</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../languages/kotlin/classes-interfaces.html">Classes and Interfaces</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../languages/kotlin/annotations.html">Annotations</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../languages/kotlin/bean-definition-dsl.html">Bean Definition DSL</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../languages/kotlin/web.html">Web</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../languages/kotlin/coroutines.html">Coroutines</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../languages/kotlin/spring-projects-in.html">Spring Projects in Kotlin</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../languages/kotlin/getting-started.html">Getting Started</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="../../languages/kotlin/resources.html">Resources</a></li>
              </ul>
             </li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../languages/groovy.html">Apache Groovy</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../../languages/dynamic.html">Dynamic Language Support</a></li>
            </ul>
           </li>
           <li class="nav-item" data-depth="1"><a class="nav-link" href="../../appendix.html">Appendix</a></li>
           <li class="nav-item" data-depth="1"><a class="nav-link link-external" target="_blank" href="https://docs.spring.io/spring-framework/docs/6.2.8/javadoc-api/">Java API</a></li>
           <li class="nav-item" data-depth="1"><a class="nav-link link-external" target="_blank" href="https://docs.spring.io/spring-framework/docs/6.2.8/kdoc-api/">Kotlin API</a></li>
           <li class="nav-item" data-depth="1"><a class="nav-link link-external" target="_blank" href="https://github.com/spring-projects/spring-framework/wiki">Wiki</a></li>
          </ul>
         </li>
        </ul>
        <div class="toggle-sm">
         <button id="nav-toggle-2" class="nav-toggle"></button>
        </div>
       </nav>
      </div>
      <div class="nav-collapse">
       <button id="nav-collapse-toggle"><span></span></button>
      </div>
     </div>
     <div class="nav-resize"></div>
    </aside>
   </div>
   <main class="article">
    <div class="content">
     <article class="doc">
      <h1 id="page-title" class="page">JPA</h1>
      <div id="preamble">
       <div class="sectionbody">
        <div class="paragraph">
         <p>The Spring JPA, available under the <code>org.springframework.orm.jpa</code> package, offers comprehensive support for the <a href="https://www.oracle.com/technetwork/articles/javaee/jpa-137156.html">Java Persistence API</a> in a manner similar to the integration with Hibernate while being aware of the underlying implementation in order to provide additional features.</p>
        </div>
       </div>
      </div>
      <div class="sect1">
       <h2 id="orm-jpa-setup"><a class="anchor" href="#orm-jpa-setup"></a>Three Options for JPA Setup in a Spring Environment</h2>
       <div class="sectionbody">
        <div class="paragraph">
         <p>The Spring JPA support offers three ways of setting up the JPA <code>EntityManagerFactory</code> that is used by the application to obtain an entity manager.</p>
        </div>
        <div class="ulist">
         <ul>
          <li>
           <p><a href="#orm-jpa-setup-lemfb">Using <code>LocalEntityManagerFactoryBean</code></a></p>
          </li>
          <li>
           <p><a href="#orm-jpa-setup-jndi">Obtaining an EntityManagerFactory from JNDI</a></p>
          </li>
          <li>
           <p><a href="#orm-jpa-setup-lcemfb">Using <code>LocalContainerEntityManagerFactoryBean</code></a></p>
          </li>
         </ul>
        </div>
        <div class="sect2">
         <h3 id="orm-jpa-setup-lemfb"><a class="anchor" href="#orm-jpa-setup-lemfb"></a>Using <code>LocalEntityManagerFactoryBean</code></h3>
         <div class="paragraph">
          <p>You can use this option only in simple deployment environments such as stand-alone applications and integration tests.</p>
         </div>
         <div class="paragraph">
          <p>The <code>LocalEntityManagerFactoryBean</code> creates an <code>EntityManagerFactory</code> suitable for simple deployment environments where the application uses only JPA for data access. The factory bean uses the JPA <code>PersistenceProvider</code> auto-detection mechanism (according to JPA’s Java SE bootstrapping) and, in most cases, requires you to specify only the persistence unit name. The following XML example configures such a bean:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;beans&gt;
	&lt;bean id="myEmf" class="org.springframework.orm.jpa.LocalEntityManagerFactoryBean"&gt;
		&lt;property name="persistenceUnitName" value="myPersistenceUnit"/&gt;
	&lt;/bean&gt;
&lt;/beans&gt;</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>This form of JPA deployment is the simplest and the most limited. You cannot refer to an existing JDBC <code>DataSource</code> bean definition, and no support for global transactions exists. Furthermore, weaving (byte-code transformation) of persistent classes is provider-specific, often requiring a specific JVM agent to be specified on startup. This option is sufficient only for stand-alone applications and test environments, for which the JPA specification is designed.</p>
         </div>
        </div>
        <div class="sect2">
         <h3 id="orm-jpa-setup-jndi"><a class="anchor" href="#orm-jpa-setup-jndi"></a>Obtaining an EntityManagerFactory from JNDI</h3>
         <div class="paragraph">
          <p>You can use this option when deploying to a Jakarta EE server. Check your server’s documentation on how to deploy a custom JPA provider into your server, allowing for a different provider than the server’s default.</p>
         </div>
         <div class="paragraph">
          <p>Obtaining an <code>EntityManagerFactory</code> from JNDI (for example in a Jakarta EE environment), is a matter of changing the XML configuration, as the following example shows:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;beans&gt;
	&lt;jee:jndi-lookup id="myEmf" jndi-name="persistence/myPersistenceUnit"/&gt;
&lt;/beans&gt;</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>This action assumes standard Jakarta EE bootstrapping. The Jakarta EE server auto-detects persistence units (in effect, <code>META-INF/persistence.xml</code> files in application jars) and <code>persistence-unit-ref</code> entries in the Jakarta EE deployment descriptor (for example, <code>web.xml</code>) and defines environment naming context locations for those persistence units.</p>
         </div>
         <div class="paragraph">
          <p>In such a scenario, the entire persistence unit deployment, including the weaving (byte-code transformation) of persistent classes, is up to the Jakarta EE server. The JDBC <code>DataSource</code> is defined through a JNDI location in the <code>META-INF/persistence.xml</code> file. <code>EntityManager</code> transactions are integrated with the server’s JTA subsystem. Spring merely uses the obtained <code>EntityManagerFactory</code>, passing it on to application objects through dependency injection and managing transactions for the persistence unit (typically through <code>JtaTransactionManager</code>).</p>
         </div>
         <div class="paragraph">
          <p>If you use multiple persistence units in the same application, the bean names of such JNDI-retrieved persistence units should match the persistence unit names that the application uses to refer to them (for example, in <code>@PersistenceUnit</code> and <code>@PersistenceContext</code> annotations).</p>
         </div>
        </div>
        <div class="sect2">
         <h3 id="orm-jpa-setup-lcemfb"><a class="anchor" href="#orm-jpa-setup-lcemfb"></a>Using <code>LocalContainerEntityManagerFactoryBean</code></h3>
         <div class="paragraph">
          <p>You can use this option for full JPA capabilities in a Spring-based application environment. This includes web containers such as Tomcat, stand-alone applications, and integration tests with sophisticated persistence requirements.</p>
         </div>
         <div class="paragraph">
          <p>The <code>LocalContainerEntityManagerFactoryBean</code> gives full control over <code>EntityManagerFactory</code> configuration and is appropriate for environments where fine-grained customization is required. The <code>LocalContainerEntityManagerFactoryBean</code> creates a <code>PersistenceUnitInfo</code> instance based on the <code>persistence.xml</code> file, the supplied <code>dataSourceLookup</code> strategy, and the specified <code>loadTimeWeaver</code>. It is, thus, possible to work with custom data sources outside of JNDI and to control the weaving process. The following example shows a typical bean definition for a <code>LocalContainerEntityManagerFactoryBean</code>:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;beans&gt;
	&lt;bean id="myEmf" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"&gt;
		&lt;property name="dataSource" ref="someDataSource"/&gt;
		&lt;property name="loadTimeWeaver"&gt;
			&lt;bean class="org.springframework.instrument.classloading.InstrumentationLoadTimeWeaver"/&gt;
		&lt;/property&gt;
	&lt;/bean&gt;
&lt;/beans&gt;</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>The following example shows a typical <code>persistence.xml</code> file:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;persistence xmlns="http://java.sun.com/xml/ns/persistence" version="1.0"&gt;
	&lt;persistence-unit name="myUnit" transaction-type="RESOURCE_LOCAL"&gt;
		&lt;mapping-file&gt;META-INF/orm.xml&lt;/mapping-file&gt;
		&lt;exclude-unlisted-classes/&gt;
	&lt;/persistence-unit&gt;
&lt;/persistence&gt;</code></pre>
          </div>
         </div>
         <div class="admonitionblock note">
          <table>
           <tbody>
            <tr>
             <td class="icon"><i class="fa icon-note" title="Note"></i></td>
             <td class="content">The <code>&lt;exclude-unlisted-classes/&gt;</code> shortcut indicates that no scanning for annotated entity classes is supposed to occur. An explicit 'true' value (<code>&lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes/&gt;</code>) also means no scan. <code>&lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes/&gt;</code> does trigger a scan. However, we recommend omitting the <code>exclude-unlisted-classes</code> element if you want entity class scanning to occur.</td>
            </tr>
           </tbody>
          </table>
         </div>
         <div class="paragraph">
          <p>Using the <code>LocalContainerEntityManagerFactoryBean</code> is the most powerful JPA setup option, allowing for flexible local configuration within the application. It supports links to an existing JDBC <code>DataSource</code>, supports both local and global transactions, and so on. However, it also imposes requirements on the runtime environment, such as the availability of a weaving-capable class loader if the persistence provider demands byte-code transformation.</p>
         </div>
         <div class="paragraph">
          <p>This option may conflict with the built-in JPA capabilities of a Jakarta EE server. In a full Jakarta EE environment, consider obtaining your <code>EntityManagerFactory</code> from JNDI. Alternatively, specify a custom <code>persistenceXmlLocation</code> on your <code>LocalContainerEntityManagerFactoryBean</code> definition (for example, META-INF/my-persistence.xml) and include only a descriptor with that name in your application jar files. Because the Jakarta EE server looks only for default <code>META-INF/persistence.xml</code> files, it ignores such custom persistence units and, hence, avoids conflicts with a Spring-driven JPA setup upfront.</p>
         </div>
         <div class="sidebarblock">
          <div class="content">
           <div class="title">When is load-time weaving required?</div>
           <div class="paragraph">
            <p>Not all JPA providers require a JVM agent. Hibernate is an example of one that does not. If your provider does not require an agent or you have other alternatives, such as applying enhancements at build time through a custom compiler or an Ant task, you should not use the load-time weaver.</p>
           </div>
          </div>
         </div>
         <div class="paragraph">
          <p>The <code>LoadTimeWeaver</code> interface is a Spring-provided class that lets JPA <code>ClassTransformer</code> instances be plugged in a specific manner, depending on whether the environment is a web container or application server. Hooking <code>ClassTransformers</code> through an <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.instrument/java/lang/instrument/package-summary.html">agent</a> is typically not efficient. The agents work against the entire virtual machine and inspect every class that is loaded, which is usually undesirable in a production server environment.</p>
         </div>
         <div class="paragraph">
          <p>Spring provides a number of <code>LoadTimeWeaver</code> implementations for various environments, letting <code>ClassTransformer</code> instances be applied only for each class loader and not for each VM.</p>
         </div>
         <div class="paragraph">
          <p>See the <a href="../../core/aop/using-aspectj.html#aop-aj-ltw-spring" class="xref page">Spring configuration</a> in the AOP chapter for more insight regarding the <code>LoadTimeWeaver</code> implementations and their setup, either generic or customized to various platforms (such as Tomcat, JBoss and WebSphere).</p>
         </div>
         <div class="paragraph">
          <p>As described in <a href="../../core/aop/using-aspectj.html#aop-aj-ltw-spring" class="xref page">Spring configuration</a>, you can configure a context-wide <code>LoadTimeWeaver</code> by using the <code>@EnableLoadTimeWeaving</code> annotation or the <code>context:load-time-weaver</code> XML element. Such a global weaver is automatically picked up by all JPA <code>LocalContainerEntityManagerFactoryBean</code> instances. The following example shows the preferred way of setting up a load-time weaver, delivering auto-detection of the platform (for example, Tomcat’s weaving-capable class loader or Spring’s JVM agent) and automatic propagation of the weaver to all weaver-aware beans:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;context:load-time-weaver/&gt;

&lt;bean id="emf" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"&gt;
	...
&lt;/bean&gt;</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>However, you can, if needed, manually specify a dedicated weaver through the <code>loadTimeWeaver</code> property, as the following example shows:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;bean id="emf" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"&gt;
	&lt;property name="loadTimeWeaver"&gt;
		&lt;bean class="org.springframework.instrument.classloading.ReflectiveLoadTimeWeaver"/&gt;
	&lt;/property&gt;
&lt;/bean&gt;</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>No matter how the LTW is configured, by using this technique, JPA applications relying on instrumentation can run in the target platform (for example, Tomcat) without needing an agent. This is especially important when the hosting applications rely on different JPA implementations, because the JPA transformers are applied only at the class-loader level and are, thus, isolated from each other.</p>
         </div>
        </div>
        <div class="sect2">
         <h3 id="orm-jpa-setup-multiple"><a class="anchor" href="#orm-jpa-setup-multiple"></a>Dealing with Multiple Persistence Units</h3>
         <div class="paragraph">
          <p>For applications that rely on multiple persistence units locations (stored in various JARS in the classpath, for example), Spring offers the <code>PersistenceUnitManager</code> to act as a central repository and to avoid the persistence units discovery process, which can be expensive. The default implementation lets multiple locations be specified. These locations are parsed and later retrieved through the persistence unit name. (By default, the classpath is searched for <code>META-INF/persistence.xml</code> files.) The following example configures multiple locations:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;bean id="pum" class="org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager"&gt;
	&lt;property name="persistenceXmlLocations"&gt;
		&lt;list&gt;
			&lt;value&gt;org/springframework/orm/jpa/domain/persistence-multi.xml&lt;/value&gt;
			&lt;value&gt;classpath:/my/package/**/custom-persistence.xml&lt;/value&gt;
			&lt;value&gt;classpath*:META-INF/persistence.xml&lt;/value&gt;
		&lt;/list&gt;
	&lt;/property&gt;
	&lt;property name="dataSources"&gt;
		&lt;map&gt;
			&lt;entry key="localDataSource" value-ref="local-db"/&gt;
			&lt;entry key="remoteDataSource" value-ref="remote-db"/&gt;
		&lt;/map&gt;
	&lt;/property&gt;
	&lt;!-- if no datasource is specified, use this one --&gt;
	&lt;property name="defaultDataSource" ref="remoteDataSource"/&gt;
&lt;/bean&gt;

&lt;bean id="emf" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"&gt;
	&lt;property name="persistenceUnitManager" ref="pum"/&gt;
	&lt;property name="persistenceUnitName" value="myCustomUnit"/&gt;
&lt;/bean&gt;</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>The default implementation allows customization of the <code>PersistenceUnitInfo</code> instances (before they are fed to the JPA provider) either declaratively (through its properties, which affect all hosted units) or programmatically (through the <code>PersistenceUnitPostProcessor</code>, which allows persistence unit selection). If no <code>PersistenceUnitManager</code> is specified, one is created and used internally by <code>LocalContainerEntityManagerFactoryBean</code>.</p>
         </div>
        </div>
        <div class="sect2">
         <h3 id="orm-jpa-setup-background"><a class="anchor" href="#orm-jpa-setup-background"></a>Background Bootstrapping</h3>
         <div class="paragraph">
          <p><code>LocalContainerEntityManagerFactoryBean</code> supports background bootstrapping through the <code>bootstrapExecutor</code> property, as the following example shows:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;bean id="emf" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"&gt;
	&lt;property name="bootstrapExecutor"&gt;
		&lt;bean class="org.springframework.core.task.SimpleAsyncTaskExecutor"/&gt;
	&lt;/property&gt;
&lt;/bean&gt;</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>The actual JPA provider bootstrapping is handed off to the specified executor and then, running in parallel, to the application bootstrap thread. The exposed <code>EntityManagerFactory</code> proxy can be injected into other application components and is even able to respond to <code>EntityManagerFactoryInfo</code> configuration inspection. However, once the actual JPA provider is being accessed by other components (for example, calling <code>createEntityManager</code>), those calls block until the background bootstrapping has completed. In particular, when you use Spring Data JPA, make sure to set up deferred bootstrapping for its repositories as well.</p>
         </div>
         <div class="paragraph">
          <p>As of 6.2, JPA initialization is enforced before context refresh completion, waiting for asynchronous bootstrapping to complete by then. This makes the availability of the fully initialized database infrastructure predictable and allows for custom post-initialization logic in <code>ContextRefreshedEvent</code> listeners etc. Putting such application-level database initialization into <code>@PostConstruct</code> methods or the like is not recommended; this is better placed in <code>Lifecycle.start</code> (if applicable) or a <code>ContextRefreshedEvent</code> listener.</p>
         </div>
        </div>
       </div>
      </div>
      <div class="sect1">
       <h2 id="orm-jpa-dao"><a class="anchor" href="#orm-jpa-dao"></a>Implementing DAOs Based on JPA: <code>EntityManagerFactory</code> and <code>EntityManager</code></h2>
       <div class="sectionbody">
        <div class="admonitionblock note">
         <table>
          <tbody>
           <tr>
            <td class="icon"><i class="fa icon-note" title="Note"></i></td>
            <td class="content">Although <code>EntityManagerFactory</code> instances are thread-safe, <code>EntityManager</code> instances are not. The injected JPA <code>EntityManager</code> behaves like an <code>EntityManager</code> fetched from an application server’s JNDI environment, as defined by the JPA specification. It delegates all calls to the current transactional <code>EntityManager</code>, if any. Otherwise, it falls back to a newly created <code>EntityManager</code> per operation, in effect making its usage thread-safe.</td>
           </tr>
          </tbody>
         </table>
        </div>
        <div class="paragraph">
         <p>It is possible to write code against the plain JPA without any Spring dependencies, by using an injected <code>EntityManagerFactory</code> or <code>EntityManager</code>. Spring can understand the <code>@PersistenceUnit</code> and <code>@PersistenceContext</code> annotations both at the field and the method level if a <code>PersistenceAnnotationBeanPostProcessor</code> is enabled. The following example shows a plain JPA DAO implementation that uses the <code>@PersistenceUnit</code> annotation:</p>
        </div>
        <div id="_tabs_1" class="openblock tabs is-sync is-loading">
         <div class="content">
          <div class="ulist tablist">
           <ul>
            <li id="_tabs_1_java" class="tab">
             <p>Java</p>
            </li>
            <li id="_tabs_1_kotlin" class="tab">
             <p>Kotlin</p>
            </li>
           </ul>
          </div>
          <div id="_tabs_1_java--panel" class="tabpanel" aria-labelledby="_tabs_1_java">
           <div class="listingblock">
            <div class="content">
             <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class ProductDaoImpl implements ProductDao {

	private EntityManagerFactory emf;

	@PersistenceUnit
	public void setEntityManagerFactory(EntityManagerFactory emf) {
		this.emf = emf;
	}

	public Collection loadProductsByCategory(String category) {
		EntityManager em = this.emf.createEntityManager();
		try {
			Query query = em.createQuery("from Product as p where p.category = ?1");
			query.setParameter(1, category);
			return query.getResultList();
		}
		finally {
			if (em != null) {
				em.close();
			}
		}
	}
}</code></pre>
            </div>
           </div>
          </div>
          <div id="_tabs_1_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_1_kotlin">
           <div class="listingblock">
            <div class="content">
             <pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">class ProductDaoImpl : ProductDao {

	private lateinit var emf: EntityManagerFactory

	@PersistenceUnit
	fun setEntityManagerFactory(emf: EntityManagerFactory) {
		this.emf = emf
	}

	fun loadProductsByCategory(category: String): Collection&lt;*&gt; {
		val em = this.emf.createEntityManager()
		val query = em.createQuery("from Product as p where p.category = ?1");
		query.setParameter(1, category);
		return query.resultList;
	}
}</code></pre>
            </div>
           </div>
          </div>
         </div>
        </div>
        <div class="paragraph">
         <p>The preceding DAO has no dependency on Spring and still fits nicely into a Spring application context. Moreover, the DAO takes advantage of annotations to require the injection of the default <code>EntityManagerFactory</code>, as the following example bean definition shows:</p>
        </div>
        <div class="listingblock">
         <div class="content">
          <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;beans&gt;

	&lt;!-- bean post-processor for JPA annotations --&gt;
	&lt;bean class="org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor"/&gt;

	&lt;bean id="myProductDao" class="product.ProductDaoImpl"/&gt;

&lt;/beans&gt;</code></pre>
         </div>
        </div>
        <div class="paragraph">
         <p>As an alternative to explicitly defining a <code>PersistenceAnnotationBeanPostProcessor</code>, consider using the Spring <code>context:annotation-config</code> XML element in your application context configuration. Doing so automatically registers all Spring standard post-processors for annotation-based configuration, including <code>CommonAnnotationBeanPostProcessor</code> and so on.</p>
        </div>
        <div class="paragraph">
         <p>Consider the following example:</p>
        </div>
        <div class="listingblock">
         <div class="content">
          <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;beans&gt;

	&lt;!-- post-processors for all standard config annotations --&gt;
	&lt;context:annotation-config/&gt;

	&lt;bean id="myProductDao" class="product.ProductDaoImpl"/&gt;

&lt;/beans&gt;</code></pre>
         </div>
        </div>
        <div class="paragraph">
         <p>The main problem with such a DAO is that it always creates a new <code>EntityManager</code> through the factory. You can avoid this by requesting a transactional <code>EntityManager</code> (also called a “shared EntityManager” because it is a shared, thread-safe proxy for the actual transactional EntityManager) to be injected instead of the factory. The following example shows how to do so:</p>
        </div>
        <div id="_tabs_2" class="openblock tabs is-sync is-loading">
         <div class="content">
          <div class="ulist tablist">
           <ul>
            <li id="_tabs_2_java" class="tab">
             <p>Java</p>
            </li>
            <li id="_tabs_2_kotlin" class="tab">
             <p>Kotlin</p>
            </li>
           </ul>
          </div>
          <div id="_tabs_2_java--panel" class="tabpanel" aria-labelledby="_tabs_2_java">
           <div class="listingblock">
            <div class="content">
             <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class ProductDaoImpl implements ProductDao {

	@PersistenceContext
	private EntityManager em;

	public Collection loadProductsByCategory(String category) {
		Query query = em.createQuery("from Product as p where p.category = :category");
		query.setParameter("category", category);
		return query.getResultList();
	}
}</code></pre>
            </div>
           </div>
          </div>
          <div id="_tabs_2_kotlin--panel" class="tabpanel" aria-labelledby="_tabs_2_kotlin">
           <div class="listingblock">
            <div class="content">
             <pre class="highlightjs highlight"><code class="language-kotlin hljs" data-lang="kotlin">class ProductDaoImpl : ProductDao {

	@PersistenceContext
	private lateinit var em: EntityManager

	fun loadProductsByCategory(category: String): Collection&lt;*&gt; {
		val query = em.createQuery("from Product as p where p.category = :category")
		query.setParameter("category", category)
		return query.resultList
	}
}</code></pre>
            </div>
           </div>
          </div>
         </div>
        </div>
        <div class="paragraph">
         <p>The <code>@PersistenceContext</code> annotation has an optional attribute called <code>type</code>, which defaults to <code>PersistenceContextType.TRANSACTION</code>. You can use this default to receive a shared <code>EntityManager</code> proxy. The alternative, <code>PersistenceContextType.EXTENDED</code>, is a completely different affair. This results in a so-called extended <code>EntityManager</code>, which is not thread-safe and, hence, must not be used in a concurrently accessed component, such as a Spring-managed singleton bean. Extended <code>EntityManager</code> instances are only supposed to be used in stateful components that, for example, reside in a session, with the lifecycle of the <code>EntityManager</code> not tied to a current transaction but rather being completely up to the application.</p>
        </div>
        <div class="sidebarblock">
         <div class="content">
          <div class="title">Method- and field-level Injection</div>
          <div class="paragraph">
           <p>You can apply annotations that indicate dependency injections (such as <code>@PersistenceUnit</code> and <code>@PersistenceContext</code>) on field or methods inside a class — hence the expressions “method-level injection” and “field-level injection”. Field-level annotations are concise and easier to use while method-level annotations allow for further processing of the injected dependency. In both cases, the member visibility (public, protected, or private) does not matter.</p>
          </div>
          <div class="paragraph">
           <p>What about class-level annotations?</p>
          </div>
          <div class="paragraph">
           <p>On the Jakarta EE platform, they are used for dependency declaration and not for resource injection.</p>
          </div>
         </div>
        </div>
        <div class="paragraph">
         <p>The injected <code>EntityManager</code> is Spring-managed (aware of the ongoing transaction). Even though the new DAO implementation uses method-level injection of an <code>EntityManager</code> instead of an <code>EntityManagerFactory</code>, no change is required in the bean definition due to annotation usage.</p>
        </div>
        <div class="paragraph">
         <p>The main advantage of this DAO style is that it depends only on the Java Persistence API. No import of any Spring class is required. Moreover, as the JPA annotations are understood, the injections are applied automatically by the Spring container. This is appealing from a non-invasiveness perspective and can feel more natural to JPA developers.</p>
        </div>
        <div class="sect2">
         <h3 id="orm-jpa-dao-autowired"><a class="anchor" href="#orm-jpa-dao-autowired"></a>Implementing DAOs Based on <code>@Autowired</code> (typically with constructor-based injection)</h3>
         <div class="paragraph">
          <p><code>@PersistenceUnit</code> and <code>@PersistenceContext</code> can only be declared on methods and fields. What about providing JPA resources via constructors and other <code>@Autowired</code> injection points?</p>
         </div>
         <div class="paragraph">
          <p><code>EntityManagerFactory</code> can easily be injected via constructors and <code>@Autowired</code> fields/methods as long as the target is defined as a bean, for example, via <code>LocalContainerEntityManagerFactoryBean</code>. The injection point matches the original <code>EntityManagerFactory</code> definition by type as-is.</p>
         </div>
         <div class="paragraph">
          <p>However, an <code>@PersistenceContext</code>-style shared <code>EntityManager</code> reference is not available for regular dependency injection out of the box. In order to make it available for type-based matching as required by <code>@Autowired</code>, consider defining a <code>SharedEntityManagerBean</code> as a companion for your <code>EntityManagerFactory</code> definition:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;bean id="emf" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"&gt;
	...
&lt;/bean&gt;

&lt;bean id="em" class="org.springframework.orm.jpa.support.SharedEntityManagerBean"&gt;
	&lt;property name="entityManagerFactory" ref="emf"/&gt;
&lt;/bean&gt;</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>Alternatively, you may define an <code>@Bean</code> method based on <code>SharedEntityManagerCreator</code>:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Bean("em")
public static EntityManager sharedEntityManager(EntityManagerFactory emf) {
	return SharedEntityManagerCreator.createSharedEntityManager(emf);
}</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>In case of multiple persistence units, each <code>EntityManagerFactory</code> definition needs to be accompanied by a corresponding <code>EntityManager</code> bean definition, ideally with qualifiers that match with the distinct <code>EntityManagerFactory</code> definition in order to distinguish the persistence units via <code>@Autowired @Qualifier("…​")</code>.</p>
         </div>
        </div>
       </div>
      </div>
      <div class="sect1">
       <h2 id="orm-jpa-tx"><a class="anchor" href="#orm-jpa-tx"></a>Spring-driven JPA Transactions</h2>
       <div class="sectionbody">
        <div class="admonitionblock note">
         <table>
          <tbody>
           <tr>
            <td class="icon"><i class="fa icon-note" title="Note"></i></td>
            <td class="content">We strongly encourage you to read <a href="../transaction/declarative.html" class="xref page">Declarative Transaction Management</a>, if you have not already done so, to get more detailed coverage of Spring’s declarative transaction support.</td>
           </tr>
          </tbody>
         </table>
        </div>
        <div class="paragraph">
         <p>The recommended strategy for JPA is local transactions through JPA’s native transaction support. Spring’s <code>JpaTransactionManager</code> provides many capabilities known from local JDBC transactions (such as transaction-specific isolation levels and resource-level read-only optimizations) against any regular JDBC connection pool, without requiring a JTA transaction coordinator and XA-capable resources.</p>
        </div>
        <div class="paragraph">
         <p>Spring JPA also lets a configured <code>JpaTransactionManager</code> expose a JPA transaction to JDBC access code that accesses the same <code>DataSource</code>, provided that the registered <code>JpaDialect</code> supports retrieval of the underlying JDBC <code>Connection</code>. Spring provides dialects for the EclipseLink and Hibernate JPA implementations. See the <a href="#orm-jpa-dialect">next section</a> for details on <code>JpaDialect</code>.</p>
        </div>
        <div class="paragraph">
         <p>For JTA-style lazy retrieval of actual resource connections, Spring provides a corresponding <code>DataSource</code> proxy class for the target connection pool: see <a href="https://docs.spring.io/spring-framework/docs/6.2.8/javadoc-api/org/springframework/jdbc/datasource/LazyConnectionDataSourceProxy.html"><code>LazyConnectionDataSourceProxy</code></a>. This is particularly useful for JPA read-only transactions which can often be processed from a local cache rather than hitting the database.</p>
        </div>
       </div>
      </div>
      <div class="sect1">
       <h2 id="orm-jpa-dialect"><a class="anchor" href="#orm-jpa-dialect"></a>Understanding <code>JpaDialect</code> and <code>JpaVendorAdapter</code></h2>
       <div class="sectionbody">
        <div class="paragraph">
         <p>As an advanced feature, <code>JpaTransactionManager</code> and subclasses of <code>AbstractEntityManagerFactoryBean</code> allow a custom <code>JpaDialect</code> to be passed into the <code>jpaDialect</code> bean property. A <code>JpaDialect</code> implementation can enable the following advanced features supported by Spring, usually in a vendor-specific manner:</p>
        </div>
        <div class="ulist">
         <ul>
          <li>
           <p>Applying specific transaction semantics (such as custom isolation level or transaction timeout)</p>
          </li>
          <li>
           <p>Retrieving the transactional JDBC <code>Connection</code> (for exposure to JDBC-based DAOs)</p>
          </li>
          <li>
           <p>Advanced translation of <code>PersistenceException</code> to Spring’s <code>DataAccessException</code></p>
          </li>
         </ul>
        </div>
        <div class="paragraph">
         <p>This is particularly valuable for special transaction semantics and for advanced translation of exception. The default implementation (<code>DefaultJpaDialect</code>) does not provide any special abilities and, if the features listed earlier are required, you have to specify the appropriate dialect.</p>
        </div>
        <div class="admonitionblock tip">
         <table>
          <tbody>
           <tr>
            <td class="icon"><i class="fa icon-tip" title="Tip"></i></td>
            <td class="content">As an even broader provider adaptation facility primarily for Spring’s full-featured <code>LocalContainerEntityManagerFactoryBean</code> setup, <code>JpaVendorAdapter</code> combines the capabilities of <code>JpaDialect</code> with other provider-specific defaults. Specifying a <code>HibernateJpaVendorAdapter</code> or <code>EclipseLinkJpaVendorAdapter</code> is the most convenient way of auto-configuring an <code>EntityManagerFactory</code> setup for Hibernate or EclipseLink, respectively. Note that those provider adapters are primarily designed for use with Spring-driven transaction management (that is, for use with <code>JpaTransactionManager</code>).</td>
           </tr>
          </tbody>
         </table>
        </div>
        <div class="paragraph">
         <p>See the <a href="https://docs.spring.io/spring-framework/docs/6.2.8/javadoc-api/org/springframework/orm/jpa/JpaDialect.html"><code>JpaDialect</code></a> and <a href="https://docs.spring.io/spring-framework/docs/6.2.8/javadoc-api/org/springframework/orm/jpa/JpaVendorAdapter.html"><code>JpaVendorAdapter</code></a> javadoc for more details of its operations and how they are used within Spring’s JPA support.</p>
        </div>
       </div>
      </div>
      <div class="sect1">
       <h2 id="orm-jpa-jta"><a class="anchor" href="#orm-jpa-jta"></a>Setting up JPA with JTA Transaction Management</h2>
       <div class="sectionbody">
        <div class="paragraph">
         <p>As an alternative to <code>JpaTransactionManager</code>, Spring also allows for multi-resource transaction coordination through JTA, either in a Jakarta EE environment or with a stand-alone transaction coordinator, such as Atomikos. Aside from choosing Spring’s <code>JtaTransactionManager</code> instead of <code>JpaTransactionManager</code>, you need to take few further steps:</p>
        </div>
        <div class="ulist">
         <ul>
          <li>
           <p>The underlying JDBC connection pools need to be XA-capable and be integrated with your transaction coordinator. This is usually straightforward in a Jakarta EE environment, exposing a different kind of <code>DataSource</code> through JNDI. See your application server documentation for details. Analogously, a standalone transaction coordinator usually comes with special XA-integrated <code>DataSource</code> variants. Again, check its documentation.</p>
          </li>
          <li>
           <p>The JPA <code>EntityManagerFactory</code> setup needs to be configured for JTA. This is provider-specific, typically through special properties to be specified as <code>jpaProperties</code> on <code>LocalContainerEntityManagerFactoryBean</code>. In the case of Hibernate, these properties are even version-specific. See your Hibernate documentation for details.</p>
          </li>
          <li>
           <p>Spring’s <code>HibernateJpaVendorAdapter</code> enforces certain Spring-oriented defaults, such as the connection release mode, <code>on-close</code>, which matches Hibernate’s own default in Hibernate 5.0 but not any more in Hibernate 5.1+. For a JTA setup, make sure to declare your persistence unit transaction type as "JTA". Alternatively, set Hibernate 5.2’s <code>hibernate.connection.handling_mode</code> property to <code>DELAYED_ACQUISITION_AND_RELEASE_AFTER_STATEMENT</code> to restore Hibernate’s own default. See <a href="hibernate.html#orm-hibernate-invalid-jdbc-access-error" class="xref page">Spurious Application Server Warnings with Hibernate</a> for related notes.</p>
          </li>
          <li>
           <p>Alternatively, consider obtaining the <code>EntityManagerFactory</code> from your application server itself (that is, through a JNDI lookup instead of a locally declared <code>LocalContainerEntityManagerFactoryBean</code>). A server-provided <code>EntityManagerFactory</code> might require special definitions in your server configuration (making the deployment less portable) but is set up for the server’s JTA environment.</p>
          </li>
         </ul>
        </div>
       </div>
      </div>
      <div class="sect1">
       <h2 id="orm-jpa-hibernate"><a class="anchor" href="#orm-jpa-hibernate"></a>Native Hibernate Setup and Native Hibernate Transactions for JPA Interaction</h2>
       <div class="sectionbody">
        <div class="paragraph">
         <p>A native <code>LocalSessionFactoryBean</code> setup in combination with <code>HibernateTransactionManager</code> allows for interaction with <code>@PersistenceContext</code> and other JPA access code. A Hibernate <code>SessionFactory</code> natively implements JPA’s <code>EntityManagerFactory</code> interface now and a Hibernate <code>Session</code> handle natively is a JPA <code>EntityManager</code>. Spring’s JPA support facilities automatically detect native Hibernate sessions.</p>
        </div>
        <div class="paragraph">
         <p>Such native Hibernate setup can, therefore, serve as a replacement for a standard JPA <code>LocalContainerEntityManagerFactoryBean</code> and <code>JpaTransactionManager</code> combination in many scenarios, allowing for interaction with <code>SessionFactory.getCurrentSession()</code> (and also <code>HibernateTemplate</code>) next to <code>@PersistenceContext EntityManager</code> within the same local transaction. Such a setup also provides stronger Hibernate integration and more configuration flexibility, because it is not constrained by JPA bootstrap contracts.</p>
        </div>
        <div class="paragraph">
         <p>You do not need <code>HibernateJpaVendorAdapter</code> configuration in such a scenario, since Spring’s native Hibernate setup provides even more features (for example, custom Hibernate Integrator setup, Hibernate 5.3 bean container integration, and stronger optimizations for read-only transactions). Last but not least, you can also express native Hibernate setup through <code>LocalSessionFactoryBuilder</code>, seamlessly integrating with <code>@Bean</code> style configuration (no <code>FactoryBean</code> involved).</p>
        </div>
        <div class="admonitionblock note">
         <table>
          <tbody>
           <tr>
            <td class="icon"><i class="fa icon-note" title="Note"></i></td>
            <td class="content">
             <div class="paragraph">
              <p><code>LocalSessionFactoryBean</code> and <code>LocalSessionFactoryBuilder</code> support background bootstrapping, just as the JPA <code>LocalContainerEntityManagerFactoryBean</code> does. See <a href="#orm-jpa-setup-background">Background Bootstrapping</a> for an introduction.</p>
             </div>
             <div class="paragraph">
              <p>On <code>LocalSessionFactoryBean</code>, this is available through the <code>bootstrapExecutor</code> property. On the programmatic <code>LocalSessionFactoryBuilder</code>, an overloaded <code>buildSessionFactory</code> method takes a bootstrap executor argument.</p>
             </div>
            </td>
           </tr>
          </tbody>
         </table>
        </div>
       </div>
      </div>
      <nav class="pagination">
       <span class="prev"><a href="hibernate.html">Hibernate</a></span> <span class="next"><a href="../oxm.html">Marshalling XML by Using Object-XML Mappers</a></span>
      </nav>
     </article>
    </div>
   </main>
  </div>         
 </body>
</html>